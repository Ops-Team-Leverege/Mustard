Commitment-Based Next Steps Extraction (Single Meeting)

You are working in an existing TypeScript backend with a deliberately layered architecture.

Context (do not change):

Ingestion → deterministic transcript chunking

Retriever → fetches the last meeting deterministically

Composer → LLM-based interpretation

MCP → capability routing

Slack → presentation only

This task adds commitment-based “Next Steps” extraction, comparable to Google Meet’s autogenerated next steps.

Problem

Current “Recommended Next Steps” are summary-derived and generic.

Google’s output is better because it:

Extracts explicit commitments, not ideas

Assigns ownership

Avoids vague or hypothetical statements

Filters aggressively to prevent false positives

We want to replicate this behavior for a single meeting.

Goal

Add a composer function that extracts concrete, speaker-grounded commitments from the meeting transcript.

A “Next Step” must:

Be explicitly committed to in speech

Have a clear owner

Be grounded in transcript text

Be phrased as an actionable task

In Scope ✅
1️⃣ Add a commitment extraction composer function

Location:

server/rag/composer.ts

Add a function, for example:

extractMeetingCommitments(
  chunks: TranscriptChunk[]
): {
  task: string;
  owner: string;
  deadline?: string;
  evidence: string;
  confidence: number;
}[]

2️⃣ Use a strict, extractive LLM prompt

The LLM must be instructed to:

Identify commissive language, such as:

“I will…”

“I’ll…”

“We will…”

“Can you… / Yes”

“Let’s… (followed by agreement)”

Assign ownership:

“I will” → speaker

“Can you do X?” → only if the other person agrees

Ignore:

hypothetical ideas (“we could”)

vague intentions (“we should think about”)

rejected or deferred offers

3️⃣ Require evidence + confidence

Each extracted item must include:

evidence: a short supporting quote or paraphrase

confidence: 0–1 score indicating how explicit the commitment is

Use this logic:

confidence ≥ 0.8 → confirmed next step

confidence < 0.8 → omit entirely (do NOT surface)

False positives are worse than omissions.

4️⃣ No vector search

This task:

Uses the full transcript of the last meeting

Does NOT use embeddings

Does NOT retrieve across meetings

This mirrors Google’s single-meeting pipeline.

5️⃣ Integrate into getLastMeeting.ts (opt-in)

Behavior:

If the user asks:

“What are the next steps?”

“What did we agree to do?”

“Any action items?”

Call extractMeetingCommitments

Return a concise, structured list

Do not mix commitments into summaries unless explicitly requested.

Output Format (Slack-friendly)

Example:

*Next Steps*
• Send login credentials to all attendees — Corey Redd  
  _“Everyone will be sent login information this afternoon…”_

• Review alert threshold settings with store managers — Eric G / Ryan Jennings  
  _“You guys need to chat with Randy on what alert status you want…”_

Out of Scope ❌

❌ No task persistence

❌ No cross-meeting de-duplication

❌ No updating existing tasks

❌ No LLM guessing

❌ No summary reuse

❌ No Slack formatting refactors

Acceptance Criteria

After implementation:

Output matches or exceeds Google Meet “Next Steps” quality

Only explicit commitments appear

Each item has:

a verb

an owner

transcript grounding

No vague or speculative items

Architectural Principle (do not violate)

Commitments are extracted, not inferred.

If it’s not clearly stated, it does not belong in Next Steps.